webpackJsonp([1],{IuHF:function(t,e){},KCgj:function(t,e){},Kelm:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"margin-top":"0"},attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(t){a("Kelm")},null,null).exports,l=a("/ocq"),o={components:{ElCol:a("kMct").a},name:"el-aside",data:function(){return{url:"5",status:0}},methods:{handleOpen:function(t,e){this.status=t},handleClose:function(t,e){console.log(t,e)},show:function(t,e,a){this.$router.push({path:"/report"}),this.$store.dispatch("get_ip_list",{e:t,b:a,id:e}),this.$store.dispatch("get_all_list",{e:t,b:a,id:e}),this.$store.dispatch("get_memory",{e:t,b:a,id:e}),this.$store.dispatch("get_disk",{e:t,b:a,id:e}),this.$store.dispatch("get_cpu",{e:t,b:a,id:e}),this.$store.dispatch("get_rate_0",{e:t,b:a,id:e,timestrap:this.Time,type:0}),this.$store.dispatch("get_rate_1",{e:t,b:a,id:e,timestrap:this.Time,type:1})},home:function(){this.$router.push({path:"/"}),this.$store.dispatch("get_home")}},computed:{base_list:function(){return this.$store.state.Base.tableData},Index:function(){return this.$store.state.Base.ID}},created:function(){this.url=this.$route.path,this.$store.dispatch("base_list"),"/"===this.$route.path?this.$store.commit("set_id","/"):this.$cookies.isKey("ID")&&this.$store.commit("set_id",this.$cookies.get("ID"))}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{staticStyle:{position:"absolute",bottom:"0",top:"60px",width:"200px",left:"0px"},attrs:{"background-color":"#545c64","default-active":t.Index,"text-color":"#fff","active-text-color":"#ffd04b","unique-opened":"",align:"left"},on:{open:t.handleOpen,close:t.handleClose}},[a("el-menu-item",{attrs:{index:"/"},on:{click:function(e){return t.home()}}},[a("i",{staticClass:"el-icon-menu"}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页信息")])]),t._v(" "),t._l(t.base_list,function(e,s){return a("el-submenu",{key:s,attrs:{index:e.name}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),t._v(t._s(e.name))]),t._v(" "),t._l(e.e_list,function(s,i){return a("el-menu-item-group",{key:i},[a("el-menu-item",{attrs:{index:s[0]},on:{click:function(a){return t.show(s[1],s[0],e.name)}}},[t._v(t._s(s[1]))])],1)})],2)})],2)],1)},staticRenderFns:[]};var c=a("VU/8")(o,n,!1,function(t){a("IuHF")},"data-v-c5ba36d8",null).exports,d={name:"report",data:function(){return{msg:"报表服务",pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},select:"",Time:"",report_status:!0,colors:[{color:"#6f7ad3",percentage:20},{color:"#1989fa",percentage:40},{color:"#5cb87a",percentage:60},{color:"#e6a23c",percentage:80},{color:"#f56c6c",percentage:100}],table:!1,dialog:!1,loading:!1,order:"",filter_ip:{}}},methods:{filterTag:function(t,e){return"service"===t.type?"应用":"大数据"},filterType:function(t){console.log("紧来了",t.type),"service"===t.type[0]?this.select=0:"big_data"===t.type[0]?this.select=1:this.select="";var e=this.$cookies.get("Title").split("/");return this.$store.dispatch("get_ip_list",{b:e[0],e:e[1],timestrap:this.Time,order:this.order,filter:this.filter_ip.ip,select:this.select}),!0},onSubmit:function(){console.log("submit!");var t=this.$cookies.get("Title").split("/");this.$store.dispatch("get_ip_list",{b:t[0],e:t[1],timestrap:this.Time,order:this.order,filter:this.filter_ip.ip,select:this.select})},download:function(){this.$store.dispatch("download",{timestrap:this.Time})},check_sort:function(t,e,a){console.log(t,e,a);var s=t.prop,i=t.order;null===i?this.order="":"descending"===i?this.order=s:"ascending"===i&&(this.order="-"+s),console.log(this.order);var r=this.$cookies.get("Title").split("/");this.$store.dispatch("get_ip_list",{b:r[0],e:r[1],timestrap:this.Time,order:this.order,filter:this.filter_ip.ip,select:this.select})},filter_time:function(){var t=this.$cookies.get("Title").split("/");this.$store.dispatch("get_ip_list",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_all_list",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_memory",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_disk",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_cpu",{b:t[0],e:t[1],timestrap:this.Time})},filter_m_rate:function(t,e){return t.memoryrate+"%"},filter_d_rate:function(t,e){return t.diskrate+"%"},filter_c_rate:function(t,e){return""===t.cpurate?"0.00%":t.cpurate+"%"},handleCurrentChange:function(t){console.log("当前页: "+t);var e=this.$cookies.get("Title").split("/");this.$store.dispatch("get_ip_list",{b:e[0],e:e[1],page:t,timestrap:this.Time,order:this.order,filter:this.filter_ip.ip,select:this.select})}},computed:{title_list:function(){return this.$store.state.Base.Title},get_ip:function(){return this.$store.state.Base.Ip},get_loading:function(){return this.$store.state.Base.loading},get_b_loading:function(){return this.$store.state.Base.b_loading},get_all:function(){return this.$store.state.Base.All},get_report_status:function(){return this.$store.state.Base.report_status},get_title:function(){return this.$store.state.Base.Title}},created:function(){var t=this.$cookies.get("Title").split("/");this.$store.dispatch("get_ip_list",{b:t[0],e:t[1]}),this.$store.dispatch("get_all_list",{b:t[0],e:t[1]}),this.$store.dispatch("get_memory",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_disk",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_cpu",{b:t[0],e:t[1],timestrap:this.Time}),this.$store.dispatch("get_rate_0",{b:t[0],e:t[1],timestrap:this.Time,type:0}),this.$store.dispatch("get_rate_1",{b:t[0],e:t[1],timestrap:this.Time,type:1}),this.$cookies.isKey("Title")&&this.$store.commit("set_title",this.$cookies.get("Title")),this.filter_ip={},this.order=""},watch:{get_title:function(){var t=this;this.filter_ip={},console.log("watch 变化了"),this.report_status=!1,this.$nextTick(function(){t.report_status=!0})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.report_status?a("el-row",{staticStyle:{position:"absolute",top:"60px",bottom:"0",left:"200px",right:"0","overflow-x":"hidden","overflow-y":"auto"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("服务器总数量："+t._s(t.get_ip.servertotalcount)+"\n        ")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("物理机数量："+t._s(t.get_ip.phycount)+"\n        ")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("虚拟机数量："+t._s(t.get_ip.vircount)+"\n        ")])],1)],1),t._v(" "),a("el-col",{staticStyle:{"padding-top":"15px"}},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:t.get_loading,expression:"get_loading"}],attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:t.title_list}},[a("el-row",{staticStyle:{"padding-bottom":"8px"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("选择查看日期")]),t._v(" "),a("el-date-picker",{attrs:{align:"right",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期","picker-options":t.pickerOptions},model:{value:t.Time,callback:function(e){t.Time=e},expression:"Time"}})],1)]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.filter_time}},[t._v("搜索")])],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",loading:t.get_b_loading},on:{click:t.download}},[t._v("生成报表")])],1),t._v(" "),a("el-col",{attrs:{span:5,offset:3}},[a("div",{attrs:{align:"center"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.table=!0}}},[t._v("查看服务器详情")])],1)])],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("内存")]),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{staticStyle:{"padding-bottom":"8px"},attrs:{span:10}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"182px"}},[a("el-alert",{attrs:{title:"应用内存使用情况",type:"success",effect:"dark",center:"",closable:!1}}),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            总量M\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            使用量M\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.service.memorytotal)+"\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.service.memoryuse)+"\n                          ")])],1)])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"182px"}},[a("el-alert",{attrs:{title:"大数据内存使用情况",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            总量M\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            使用量M\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.bigdata.memorytotal)+"\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.bigdata.memoryuse)+"\n                          ")])],1)])],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"应用内存使用率",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-progress",{attrs:{type:"dashboard",percentage:t._f("number")(t.get_all.all.service.memoryrate),color:t.colors}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"大数据内存使用率",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-progress",{attrs:{type:"dashboard",percentage:t._f("number")(t.get_all.all.bigdata.memoryrate),color:t.colors}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"memory"}})])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"mem_rate_0"}})])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"mem_rate_1"}})])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("磁盘")]),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{staticStyle:{"padding-bottom":"8px"},attrs:{span:10}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"182px"}},[a("el-alert",{attrs:{title:"应用磁盘使用情况",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            总量G\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            使用量G\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.service.disktotal)+"\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.service.diskuse)+"\n                          ")])],1)])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"182px"}},[a("el-alert",{attrs:{title:"大数据磁盘使用情况",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            总量G\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            使用量G\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.bigdata.disktotal)+"\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"},attrs:{span:12}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.bigdata.diskuse)+"\n                          ")])],1)])],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"应用磁盘使用率",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-progress",{attrs:{type:"dashboard",percentage:t._f("number")(t.get_all.all.service.diskrate),color:t.colors}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"大数据磁盘使用率",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-progress",{attrs:{type:"dashboard",percentage:t._f("number")(t.get_all.all.bigdata.diskrate),color:t.colors}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"disk"}})])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"disk_rate_0"}})])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"disk_rate_1"}})])],1)],1),t._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[t._v("cpu")]),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{staticStyle:{"padding-bottom":"8px"},attrs:{span:10}},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"182px"}},[a("el-alert",{attrs:{title:"应用cpu核数",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            总核数\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.service.cpucore)+"\n                          ")])],1)])],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"182px"}},[a("el-alert",{attrs:{title:"大数据cpu核数",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("el-col",{staticStyle:{"padding-top":"25px"}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:"info"}},[t._v("\n                            总核数\n                          ")])],1)]),t._v(" "),a("el-col",{staticStyle:{"padding-top":"8px","padding-bottom":"8px"}},[a("div",{attrs:{align:"center"}},[a("el-tag",{attrs:{type:""}},[t._v("\n                            "+t._s(t.get_all.all.bigdata.cpucore)+"\n                          ")])],1)])],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"应用cpu使用率",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-progress",{attrs:{type:"dashboard",percentage:t._f("number")(t.get_all.all.service.cpurate),color:t.colors}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"大数据cpu使用率",type:"success",center:"",effect:"dark",closable:!1}}),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-progress",{attrs:{type:"dashboard",percentage:t._f("number")(t.get_all.all.bigdata.cpurate),color:t.colors}})],1)],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:14}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"cpu_table"}})])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"cpu_rate_0"}})])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"397px"}},[a("div",{staticStyle:{height:"397px"},attrs:{id:"cpu_rate_1"}})])],1)],1)],1)],1)],1),t._v(" "),a("el-drawer",{attrs:{title:"服务器详情!",visible:t.table,direction:"rtl",size:"89%"},on:{"update:visible":function(e){t.table=e}}},[a("el-row",[a("el-col",{staticStyle:{"padding-left":"20px"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.filter_ip},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{attrs:{label:"审批人"}},[a("el-input",{attrs:{placeholder:"搜索ip"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit()}},model:{value:t.filter_ip.ip,callback:function(e){t.$set(t.filter_ip,"ip",e)},expression:"filter_ip.ip"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.get_loading,expression:"get_loading"}],attrs:{data:t.get_ip.IP,stripe:"",border:"",size:"mini"},on:{"sort-change":t.check_sort,"filter-change":t.filterType}},[a("el-table-column",{attrs:{property:"name",label:"IP",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{property:"memorytotal",label:"内存总量/M"}}),t._v(" "),a("el-table-column",{attrs:{property:"memoryuse",label:"内存使用量/M"}}),t._v(" "),a("el-table-column",{attrs:{property:"memoryrate",label:"内存使用率",formatter:t.filter_m_rate,sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{property:"cpucore",label:"cpu核数"}}),t._v(" "),a("el-table-column",{attrs:{property:"averageload",label:"平均load"}}),t._v(" "),a("el-table-column",{attrs:{property:"cpurate",label:"cpu使用率",formatter:t.filter_c_rate,sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{property:"disktotal",label:"磁盘总量/G"}}),t._v(" "),a("el-table-column",{attrs:{property:"diskuse",label:"磁盘使用量/G"}}),t._v(" "),a("el-table-column",{attrs:{property:"diskrate",label:"磁盘使用率",formatter:t.filter_d_rate,sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{property:"servertype",label:"服务器类型"}}),t._v(" "),a("el-table-column",{attrs:{property:"type",label:"所属环境",formatter:t.filterTag,filters:[{text:"应用",value:"service"},{text:"大数据",value:"big_data"}],"column-key":"type"}})],1),t._v(" "),a("div",{staticStyle:{"padding-top":"8px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.get_ip.select_number},on:{"current-change":t.handleCurrentChange}})],1)],1)],1):t._e()},staticRenderFns:[]};var u=a("VU/8")(d,p,!1,function(t){a("WNh6")},"data-v-0c6ee7b0",null).exports,g={name:"HelloWorld",data:function(){return{msg:"home"}},methods:{reload:function(){var t=this;this.isRouterAlive=!1,this.$nextTick(function(){return t.isRouterAlive=!0})}},computed:{},created:function(){},components:{Aside:c,Report:u}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[e("el-header",{staticStyle:{"background-color":"#409EFF"}},[e("el-row",[e("el-col",{attrs:{span:5}},[e("h2",{staticStyle:{color:"white","font-family":"Microsoft YaHei","margin-top":"15px"},attrs:{align:"left"}},[e("i",{staticClass:"el-icon-menu"}),this._v("\n                    服务器资源报表\n                ")])])],1)],1),this._v(" "),e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("Aside")],1),this._v(" "),e("el-main",{staticStyle:{"padding-left":"2px"},attrs:{align:"left"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(g,f,!1,function(t){a("KCgj")},"data-v-bbfd54de",null).exports,h={name:"Main",data:function(){return{msg:"主页面"}},computed:{get_home_s:function(){return this.$store.state.Base.Home}},methods:{},created:function(){console.log(this.baseConfig.request_url,"111111111111111"),this.$store.dispatch("get_home")}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("服务器总数量："+t._s(t.get_home_s.ip_all)+"\n      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("环境总数量："+t._s(t.get_home_s.e_all)+"\n      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("物理机总数量："+t._s(t.get_home_s.p_all)+"\n      ")])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{shadow:"always"}},[a("i",{staticClass:"el-icon-s-platform"}),t._v("虚拟机总数量："+t._s(t.get_home_s.v_all)+"\n      ")])],1)],1),t._v(" "),a("div",{staticStyle:{height:"400px","padding-top":"8px"},attrs:{id:"container"}})],1)},staticRenderFns:[]};var b=a("VU/8")(h,_,!1,function(t){a("wGFn")},"data-v-c713effe",null).exports;s.default.use(l.a);var v=new l.a({routes:[{path:"",name:"home",component:m,children:[{path:"/",name:"main",component:b},{path:"/report",name:"report",component:u}]}],mode:"history"}),y=a("zL8q"),x=a.n(y),w=(a("tvR6"),a("NYxO")),S=a("mtWM"),k=a.n(S),C=a("ppUw"),$=a.n(C),T=a("XLwt"),B=a.n(T),O={state:{tableData:{},Title:"",ID:"/",loading:!1,b_loading:!1,All:{all:{service:{memorytotal:0,memoryuse:0,memoryrate:0,disktotal:0,diskuse:0,diskrate:0,cpurate:0},bigdata:{memorytotal:0,memoryuse:0,memoryrate:0,disktotal:0,diskuse:0,diskrate:0,cpurate:0}}},Ip:{phycount:0,servertotalcount:0,vircount:0},Home:{ip_all:0,e_all:0,v_all:0,p_all:0}},actions:{base_list:function(t){t.state;var e=t.commit;t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/base_info",{}).then(function(t){e("set_base_list",t.data),console.log(t.data)})},get_ip_list:function(t,e){t.state;var a=t.commit;t.rootState;a("set_loading",!0),$.a.set("Title",e.b+"/"+e.e),e.id&&($.a.set("ID",e.id),a("set_id",e.id)),a("set_title",e.b+"/"+e.e),s.default.http.get(s.default.baseConfig.request_url+"/api/v1/ip_info",{params:e}).then(function(t){console.log(t.data),a("set_ip",t.data),a("set_loading",!1)})},get_all_list:function(t,e){t.state;var a=t.commit;t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/all_info",{params:e}).then(function(t){console.log(t.data),a("set_all",t.data)})},download:function(t,e){t.state;var a=t.commit;t.rootState;a("set_b_loading",!0),s.default.http.get(s.default.baseConfig.request_url+"/api/v1/download",{params:e,responseType:"blob"}).then(function(t){if(console.log(t),"application/json"===t.data.type)console.log("没有"),window.app.$message({message:"此日期下没有报表",type:"error"}),a("set_b_loading",!1);else{a("set_b_loading",!1);var e=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.style.display="none",s.href=e;(new Date).getTime();s.download="ipdatas.xlsx",document.body.appendChild(s),s.click()}})},get_home:function(t,e){var a=t.state,i=t.commit;t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/home",{params:e}).then(function(t){i("set_home",t.data),s.default.echarts.init(document.getElementById("container")).setOption({title:{text:"各事业部使用服务器数量"},legend:{},tooltip:{},dataset:{source:a.Home.b_list},color:["#3398DB","#005700"],xAxis:[{type:"category",axisLabel:{interval:0,rotate:-15}}],yAxis:[{type:"value"}],series:[{name:"物理机",type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:16}}}}},{name:"虚拟机",type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:16}}}}}]})})}},mutations:{set_base_list:function(t,e){t.tableData=e},set_b_loading:function(t,e){t.b_loading=e},set_title:function(t,e){t.Title=e,console.log(e,"test")},set_loading:function(t,e){t.loading=e},set_id:function(t,e){t.ID=e},set_ip:function(t,e){t.Ip=e},set_all:function(t,e){t.All=e},set_home:function(t,e){t.Home=e}}},I={state:{},actions:{get_memory:function(t,e){t.state,t.commit,t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/memory",{params:e}).then(function(t){var e=s.default.echarts.init(document.getElementById("memory")),a=t.data;e.setOption({backgroundColor:new s.default.echarts.graphic.RadialGradient(0,0,0,[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]),title:{text:"内存使用率分布情况"},legend:{right:10,data:["大数据服务器","应用服务器"]},xAxis:{max:100,name:"使用率",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{name:"服务器id",splitLine:{lineStyle:{type:"dashed"}},scale:!0},series:[{name:"大数据服务器",data:a[0],type:"scatter",symbolSize:function(t){return 30},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:new s.default.echarts.graphic.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(251, 118, 123)"},{offset:1,color:"rgb(204, 46, 72)"}])}}},{name:"应用服务器",data:a[1],type:"scatter",symbolSize:function(t){return 30},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(25, 100, 150, 0.5)",shadowOffsetY:5,color:new s.default.echarts.graphic.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(129, 227, 238)"},{offset:1,color:"rgb(25, 183, 207)"}])}}}]})})},get_disk:function(t,e){t.state,t.commit,t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/disk",{params:e}).then(function(t){var e=s.default.echarts.init(document.getElementById("disk")),a=t.data;e.setOption({backgroundColor:new s.default.echarts.graphic.RadialGradient(0,0,0,[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]),title:{text:"磁盘使用率分布情况"},legend:{right:10,data:["大数据服务器","应用服务器"]},xAxis:{max:100,name:"使用率",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{name:"服务器id",splitLine:{lineStyle:{type:"dashed"}},scale:!0},series:[{name:"大数据服务器",data:a[0],type:"scatter",symbolSize:function(t){return 30},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:new s.default.echarts.graphic.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(251, 118, 123)"},{offset:1,color:"rgb(204, 46, 72)"}])}}},{name:"应用服务器",data:a[1],type:"scatter",symbolSize:function(t){return 30},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(25, 100, 150, 0.5)",shadowOffsetY:5,color:new s.default.echarts.graphic.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(129, 227, 238)"},{offset:1,color:"rgb(25, 183, 207)"}])}}}]})})},get_cpu:function(t,e){t.state,t.commit,t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/cpu",{params:e}).then(function(t){var e=s.default.echarts.init(document.getElementById("cpu_table")),a=t.data;e.setOption({backgroundColor:new s.default.echarts.graphic.RadialGradient(0,0,0,[{offset:0,color:"#f7f8fa"},{offset:1,color:"#cdd0d5"}]),title:{text:"cpu使用率分布情况"},legend:{right:10,data:["大数据服务器","应用服务器"]},xAxis:{max:100,name:"使用率",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{name:"服务器id",splitLine:{lineStyle:{type:"dashed"}},scale:!0},series:[{name:"大数据服务器",data:a[0],type:"scatter",symbolSize:function(t){return 30},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:new s.default.echarts.graphic.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(251, 118, 123)"},{offset:1,color:"rgb(204, 46, 72)"}])}}},{name:"应用服务器",data:a[1],type:"scatter",symbolSize:function(t){return 30},label:{emphasis:{show:!0,formatter:function(t){return t.data[2]},position:"top"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(25, 100, 150, 0.5)",shadowOffsetY:5,color:new s.default.echarts.graphic.RadialGradient(.4,.3,1,[{offset:0,color:"rgb(129, 227, 238)"},{offset:1,color:"rgb(25, 183, 207)"}])}}}]})})},get_rate_0:function(t,e){t.state,t.commit,t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/rate",{params:e}).then(function(t){var e=t.data,a=s.default.echarts.init(document.getElementById("cpu_rate_0")),i=s.default.echarts.init(document.getElementById("disk_rate_0")),r=s.default.echarts.init(document.getElementById("mem_rate_0"));a.setOption({title:{text:"应用类主机的cpu使用率分布",subtext:"资源分布占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}% 台)"},legend:{orient:"vertical",left:"left",data:e.title[2]},series:[{name:"cpu资源",type:"pie",radius:"55%",center:["50%","60%"],data:e.data[2],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),i.setOption({title:{text:"应用类主机的磁盘使用率分布",subtext:"资源分布占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}% 台)"},legend:{orient:"vertical",left:"left",data:e.title[1]},series:[{name:"磁盘资源",type:"pie",radius:"55%",center:["50%","60%"],data:e.data[1],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),r.setOption({title:{text:"应用类主机的内存使用率分布",subtext:"资源分布占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}% 台)"},legend:{orient:"vertical",left:"left",data:e.title[0]},series:[{name:"内存资源",type:"pie",radius:"55%",center:["50%","60%"],data:e.data[0],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})})},get_rate_1:function(t,e){t.state,t.commit,t.rootState;s.default.http.get(s.default.baseConfig.request_url+"/api/v1/rate",{params:e}).then(function(t){var e=t.data,a=s.default.echarts.init(document.getElementById("cpu_rate_1")),i=s.default.echarts.init(document.getElementById("disk_rate_1")),r=s.default.echarts.init(document.getElementById("mem_rate_1"));a.setOption({title:{text:"大数据类主机的cpu使用率分布",subtext:"资源分布占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}% 台)"},legend:{orient:"vertical",left:"left",data:e.title[2]},series:[{name:"cpu资源",type:"pie",radius:"55%",center:["50%","60%"],data:e.data[2],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),i.setOption({title:{text:"大数据类主机的磁盘使用率分布",subtext:"资源分布占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}% 台)"},legend:{orient:"vertical",left:"left",data:e.title[1]},series:[{name:"磁盘资源",type:"pie",radius:"55%",center:["50%","60%"],data:e.data[1],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),r.setOption({title:{text:"大数据类主机的内存使用率分布",subtext:"资源分布占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}% 台)"},legend:{orient:"vertical",left:"left",data:e.title[0]},series:[{name:"内存资源",type:"pie",radius:"55%",center:["50%","60%"],data:e.data[0],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})})}},mutations:{set_base_list:function(t,e){t.tableData=e}}};s.default.config.productionTip=!1,s.default.use(x.a),s.default.use(w.a),s.default.prototype.$http=k.a,s.default.http=k.a,s.default.use($.a),s.default.prototype.$echarts=B.a,s.default.echarts=B.a;var R=l.a.prototype.push;l.a.prototype.push=function(t){return R.call(this,t).catch(function(t){return t})};window.location.host;var E=new w.a.Store({state:{request_url:""},mutations:{},actions:{},modules:{Base:O,Table:I}});s.default.filter("number",function(t){return Number(t)}),k.a.get("./static/project.config.json").then(function(t){console.log(t.data),s.default.prototype.baseConfig=t.data,s.default.baseConfig=t.data;var e=new s.default({el:"#app",router:v,store:E,components:{App:r},template:"<App/>"});window.app=e})},WNh6:function(t,e){},tvR6:function(t,e){},wGFn:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.33d11ee4d5e526fb5503.js.map